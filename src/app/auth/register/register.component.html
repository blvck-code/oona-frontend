<div class="main-register-section">
  <div class="register-container">
    <a routerLink="/" class="branding-section">
      <img src="assets/img/oona_logo.svg" alt="" class="login-branding">
    </a>
   <div *ngIf="loading" class="register-loading">
     <app-loading-animation></app-loading-animation>
   </div>
    <div class="register-content">
      <div class="register-title">
        <p>Register</p>
      </div>
      <div class="register-description">
        <p>Create a new Oona Account.</p>
      </div>
      <form autocomplete="false" [formGroup]="registrationForm" (ngSubmit)="onRegister()" class="register-form">
        <div class="input-details" [class.invalid-feedback]="registrationFormControls.email.touched && registrationFormControls.email.errors">
          <label for="email">Email*</label>
          <input type="email" id="email" formControlName="email" [class.is-invalid]="registrationFormControls.email.touched && registrationFormControls.email.errors" placeholder="Email Address">
          <span *ngIf="registrationFormControls.email.touched && registrationFormControls.email.errors?.required">Please enter your email address.</span>
          <span *ngIf="!registrationFormControls.email.touched && emptyForm">Please enter your email address.</span>
        </div>

        <div class="input-details" [class.invalid-feedback]="registrationFormControls.firstName.touched && registrationFormControls.firstName.errors">
          <label for="firstName">First Name*</label>
          <input type="text" id="firstName" [class.is-invalid]="registrationFormControls.firstName.touched && registrationFormControls.firstName.errors" formControlName="firstName" placeholder="First Name">
          <span *ngIf="registrationFormControls.firstName.touched && registrationFormControls.firstName.errors?.required">Please enter your first name.</span>
          <span *ngIf="!registrationFormControls.firstName.touched && emptyForm">Please enter your first name.</span>
        </div>

        <div class="input-details" [class.invalid-feedback]="registrationFormControls.secondName.touched && registrationFormControls.secondName.errors">
          <label for="secondName">Second Name*</label>
          <input type="text" id="secondName" [class.is-invalid]="registrationFormControls.secondName.touched && registrationFormControls.secondName.errors" formControlName="secondName"  placeholder="Second Name">
          <span *ngIf="registrationFormControls.secondName.touched && registrationFormControls.secondName.errors?.required">Please enter your second name.</span>
          <span *ngIf="!registrationFormControls.secondName.touched && emptyForm">Please enter your second name.</span>
        </div>

        <div class="input-details" [class.invalid-feedback]="registrationFormControls.password1.touched && registrationFormControls.password1.errors">
          <label for="pass">Password*</label>
          <input type="password" name="password1" id="pass" [class.is-invalid]="registrationFormControls.password1.touched && registrationFormControls.password1.errors" autocomplete="false" formControlName="password1" placeholder="Password">
          <span *ngIf="registrationFormControls.password1.touched && registrationFormControls.password1.errors?.required">Please enter your password.</span>
          <span *ngIf="!registrationFormControls.password1.touched && emptyForm">Please enter your password.</span>
          <ng9-password-strength-bar *ngIf="registrationForm.get('password1')?.value"
                                     [passwordToCheck]="registrationForm.get('password1')?.value"
                                     [barLabel]="barLabel"
                                     [customThresholds]="thresholds"
                                     [barColors]="myColors">
          </ng9-password-strength-bar>
        </div>

        <div class="input-details" [class.invalid-feedback]="registrationFormControls.password2.touched && registrationFormControls.password2.errors">
          <label for="confirmPass">Confirm Password*</label>
          <input type="password" id="confirmPass" [class.is-invalid]="registrationFormControls.password2.touched && registrationFormControls.password2.errors" formControlName="password2" placeholder="Confirm Password">
          <span *ngIf="registrationFormControls.password2.touched && registrationFormControls.password2.errors?.required">Please confirm your password.</span>
          <span *ngIf="registrationFormControls.password2.errors?.['confirmedValidator']">
            Password and Confirm Password must be match.
          </span>
          <span *ngIf="!registrationFormControls.password2.touched && emptyForm">Please confirm your password.</span>
        </div>

        <div class="register-buttons">
          <button class="cancel-register-form-btn" routerLink="" type="button">Cancel</button>
          <button type="submit" class="register-form-btn" (click)="isSubmitted()">Register</button>
        </div>
        <div class="signup-error">
          <span *ngIf="signupError">{{signupServerError}}</span>
        </div>
        <div class="login-option">
          <p>Already have an account? <span routerLink="/login">Login here</span></p>
          <p>Or <span routerLink="/verify-account">Verify your account</span></p>
        </div>
      </form>
    </div>
  </div>
</div>

