<!--    <div class="input-group mb-3">-->
<!--      <span class="input-group-text" id="basic-addon1"> <i class="fa fa-search"></i></span>-->
<!--      <input type="text" class="form-control shadow-none search-form" placeholder="Search..." aria-label="Search" aria-describedby="basic-addon1">-->
<!--    </div>-->

<!--  <div class="left-container card messages">-->
<!--         <h5 class="card-title">Messages</h5>-->
<!--         <div class="card-text">-->
<!--            <p class="channel-name" (click)="showAllPrivateMessages()">New messages <span class="circle text-center message-count" *ngIf="newMessagesCount">{{ newMessagesCount }}</span></p>-->
<!--           <div class="dropdown" (click)="showAllPrivateMessages()">-->
<!--             <p class="dropdown-toggle channel-name" type="button" id="dropdownMenuButton3" data-bs-toggle="dropdown" aria-expanded="false">-->
<!--               Private messages-->
<!--             </p>-->

<!--             <ul class="dropdown-menu dropdown-menu-dark scrollable-menu pre-scrollable" aria-labelledby="dropdownMenuButton3" >-->
<!--               <li *ngFor="let nameOfPrivate of pmNames" (click)="messagingService.goToMemberChat(nameOfPrivate)"><span class="dropdown-item" > {{ nameOfPrivate.full_name }}</span></li>-->
<!--             </ul>-->
<!--           </div>-->
<!--            <p class="channel-name" (click)="showAllMentionedMessages()">Mentions</p>-->
<!--            <p class="channel-name" (click)="showAllGroupPms()">Group PMs</p>-->
<!--         </div>-->
<!--        </div>-->

<!--    <div class="left-container card teams">-->
<!--      <div class="card-title mb-2 d-flex justify-content-between">-->
<!--         <p>Teams</p>-->
<!--        <div>-->
<!--          <i class="bi bi-gear add-team" (click)="teamSettings()"></i>-->
<!--        </div>-->
<!--      </div>-->
<!--         <div class="card-text">-->
<!--           <div class="dropdown" *ngFor="let team of allTeams" (click)="getStreamDetails(team)">-->
<!--             <p class="dropdown-toggle" (click)="displayMessagesOfStream()" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">-->
<!--               <span>{{ team.name }}</span><span *ngIf="team.messageCount > 0" class="circle text-center message-count ms-2">{{team.messageCount}}</span>-->
<!--             </p>-->
<!--             <ul class="dropdown-menu dropdown-menu-dark scrollable-menu pre-scrollable" aria-labelledby="dropdownMenuButton1" >-->
<!--               <li  (click)="displayMessagesOfTopic('')"><span class="dropdown-item" > All</span></li>-->
<!--               <li *ngFor="let topic of team.topics" (click)="displayMessagesOfTopic(topic)"><span class="dropdown-item" > {{ topic.name}}</span></li>-->
<!--             </ul>-->
<!--           </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <div class="left-container card general">-->
<!--        <h5 class="card-title">General</h5>-->
<!--        <div class="card-text">-->
<!--           <div class="dropdown" *ngFor="let team of publicTeams" (click)="getPublicStreamDetails(team)">-->
<!--             <p class="dropdown-toggle" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false" style="cursor: pointer">-->
<!--               <span>{{ team.name }}</span><span *ngIf="team.messageCount > 0" class="circle text-center message-count ms-2">{{team.messageCount}}</span>-->
<!--             </p>-->
<!--             <ul class="dropdown-menu dropdown-menu-dark scrollable-menu pre-scrollable" aria-labelledby="dropdownMenuButton2" >-->
<!--               <li  (click)="displayMessagesOfTopic('')"><span class="dropdown-item" > All</span></li>-->
<!--               <li *ngFor="let topic of team.topics" (click)="displayMessagesOfTopic(topic)"><span class="dropdown-item" > {{ topic.name}}</span></li>-->
<!--             </ul>-->
<!--           </div>-->
<!--        </div>-->
<!--    </div>-->

<div class="main-left-panel-container">
  <div class="panel-box-container">
    <div class="panel-box-title">
      <p>MESSAGES</p>
    </div>
    <div class="panel-box-content">
      <a
        routerLink="/dashboard/messaging/all"
        routerLinkActive="active"
        class="panel-box-item"
      >
        <p>
          All Messages
          <span
            *ngIf="( totalUnreadMsgObservable | async )"
            class="badge mat-badge-before">
            {{ totalUnreadMsgObservable | async }}
          </span>
        </p>
      </a>
      <a
        routerLink="/dashboard/messaging/private"
        routerLinkActive="active"
        class="panel-box-item"
      >
        <p>Private Messages
          <span
            *ngIf="( privateUnreadMsgCounterObservable | async )"
            class="badge mat-badge-before">
            {{ privateUnreadMsgCounterObservable | async }}
          </span>
        </p>
      </a>
    </div>
  </div>
  <div class="panel-box-accordion teams-panel">
    <div class="accordion-box-title">
      <p>TEAMS <span
        *ngIf="( streamsUnreadMsgCounterObservable | async )"
        class="badge badge-dark">
            {{ streamsUnreadMsgCounterObservable | async }}
          </span></p>
      <svg
        (click)="teamSettings()"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M12.0001 7.13132C9.31118 7.13132 7.13141 9.31109 7.13141 12C7.13141 14.6888 9.31118 16.8686 12.0001 16.8686C14.6889 16.8686 16.8687 14.6888 16.8687 12C16.8687 9.31109 14.6889 7.13132 12.0001 7.13132ZM8.63141 12C8.63141 10.1395 10.1396 8.63132 12.0001 8.63132C13.8605 8.63132 15.3687 10.1395 15.3687 12C15.3687 13.8604 13.8605 15.3686 12.0001 15.3686C10.1396 15.3686 8.63141 13.8604 8.63141 12Z"
          fill="#051EC4"
        />
        <path
          d="M14.6947 2.01506C13.9028 -0.671689 10.0972 -0.671687 9.30529 2.01506L9.16452 2.49269C8.92869 3.29279 8.01482 3.67133 7.2823 3.27233L6.84503 3.03414C4.38524 1.69429 1.69429 4.38525 3.03414 6.84504L3.27233 7.28231C3.67133 8.01482 3.29279 8.92869 2.49269 9.16452L2.01506 9.3053C-0.671689 10.0972 -0.671687 13.9028 2.01506 14.6947L2.49269 14.8355C3.29279 15.0713 3.67133 15.9852 3.27233 16.7177L3.03414 17.155C1.69429 19.6148 4.38524 22.3057 6.84503 20.9659L7.28231 20.7277C8.01482 20.3287 8.92869 20.7072 9.16452 21.5073L9.30529 21.9849C10.0972 24.6717 13.9028 24.6717 14.6947 21.9849L14.8355 21.5073C15.0713 20.7072 15.9852 20.3287 16.7177 20.7277L17.155 20.9659C19.6148 22.3057 22.3057 19.6148 20.9659 17.155L20.7277 16.7177C20.3287 15.9852 20.7072 15.0713 21.5073 14.8355L21.9849 14.6947C24.6717 13.9028 24.6717 10.0972 21.9849 9.3053L21.5073 9.16452C20.7072 8.92869 20.3287 8.01482 20.7277 7.28231L20.9659 6.84503C22.3057 4.38524 19.6147 1.69429 17.155 3.03414L16.7177 3.27233C15.9852 3.67133 15.0713 3.29279 14.8355 2.49269L14.6947 2.01506ZM10.7441 2.43915C11.1132 1.18695 12.8868 1.18695 13.2559 2.43915L13.3967 2.91677C13.9027 4.63349 15.8635 5.4457 17.4352 4.58959L17.8725 4.3514C19.0189 3.72694 20.2731 4.98111 19.6486 6.12752L19.4104 6.56479C18.5543 8.13649 19.3665 10.0973 21.0832 10.6033L21.5609 10.7441C22.813 11.1132 22.8131 12.8868 21.5609 13.2559L21.0832 13.3967C19.3665 13.9027 18.5543 15.8635 19.4104 17.4352L19.6486 17.8725C20.2731 19.0189 19.0189 20.2731 17.8725 19.6486L17.4352 19.4104C15.8635 18.5543 13.9027 19.3665 13.3967 21.0832L13.2559 21.5609C12.8868 22.8131 11.1132 22.8131 10.7441 21.5609L10.6033 21.0832C10.0973 19.3665 8.13649 18.5543 6.56479 19.4104L6.12752 19.6486C4.9811 20.2731 3.72694 19.0189 4.3514 17.8725L4.58958 17.4352C5.44569 15.8635 4.63349 13.9027 2.91677 13.3967L2.43915 13.2559C1.18695 12.8868 1.18695 11.1132 2.43915 10.7441L2.91677 10.6033C4.63349 10.0973 5.44569 8.13649 4.58959 6.56479L4.3514 6.12752C3.72695 4.9811 4.9811 3.72695 6.12752 4.3514L6.56479 4.58959C8.13649 5.44569 10.0973 4.63349 10.6033 2.91677L10.7441 2.43915Z"
          fill="#051EC4"
        />
      </svg>
    </div>
    <div class="accordion accordion-flush" id="teamsAccordion">
      <!--      <div *ngFor="let team of allTeams; index as i" (click)="getStreamDetails(team)" class="accordion-item">-->
      <!--        <h2 class="accordion-header" id="flush-headingOne">-->
      <!--          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"  [attr.data-bs-target]="'#flush-collapse'+i" aria-expanded="false" [attr.aria-controls]="'flush-collapse'+i">-->
      <!--            {{team.name}}-->
      <!--          </button>-->
      <!--        </h2>-->
      <!--        <div id="flush-collapse{{i}}" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#teamsAccordion">-->
      <!--          <div class="accordion-body">-->
      <!--            <div (click)="displayMessagesOfTopic('')" class="accordion-body-item">-->
      <!--              <p>All Topics</p>-->
      <!--            </div>-->
      <!--            <div *ngFor="let topic of team.topics" (click)="displayMessagesOfTopic(topic)" class="accordion-body-item">-->
      <!--              <p>{{topic.name}}</p>-->
      <!--            </div>-->
      <!--          </div>-->
      <!--        </div>-->
      <!--      </div>-->

      <div *ngIf="!(finalStreamObservable | async)?.length">
        <app-load-indicator></app-load-indicator>
      </div>

      <div
        *ngFor="let team of (finalStreamObservable | async); index as i"
        class="accordion-item" (click)="getStreamName(team)"
      >
        <h2 class="accordion-header" id="flush-headingOne">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            [attr.data-bs-target]="'#flush-collapse' + i"
            aria-expanded="false"
            [attr.aria-controls]="'flush-collapse' + i"
          >
            <p>
              {{ team?.name | titlecase }}
              <span
                *ngIf="team.unreadCount > 0"
                class="badge badge-dark ms-2">
                {{ team.unreadCount }}
              </span>
            </p>
          </button>
        </h2>
        <div
          id="flush-collapse{{ i }}"
          class="accordion-collapse collapse"
          aria-labelledby="flush-headingOne"
          data-bs-parent="#teamsAccordion"
        >
          <div class="accordion-body">
            <div class="accordion-body-item"   >
              <p class="accordion-body-item__text" (click)="handleNavigateTopic(team)">All Channels</p>

              <p class="create-teams__icon"
                 (click)="channelSettings()"
                 data-toggle="modal" data-target="#exampleModal">+</p>
            </div>
            <div
              *ngFor="let topic of team?.topics"
              class="accordion-body-item"
            >
              <p (click)="handleNavigateTopic(team, topic)">
                {{ topic?.name | titlecase }}
              </p>

            </div>

          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel-box-accordion general-panel">
    <div class="accordion-box-title">
      <p>General</p>
    </div>
    <div class="accordion accordion-flush" id="generalAccordion">
      <div
        *ngFor="let team of publicTeams; index as i"
        (click)="getPublicStreamDetails(team)"
        class="accordion-item"
      >
        <h2 class="accordion-header" id="flush-headingTwo">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            [attr.data-bs-target]="'#flush-collapse-general' + i"
            aria-expanded="false"
            [attr.aria-controls]="'flush-collapse-general' + i"
          >
            {{ team.name | titlecase }}
          </button>
        </h2>
        <div
          id="flush-collapse-general{{ i }}"
          class="accordion-collapse collapse"
          aria-labelledby="flush-headingTwo"
          data-bs-parent="#generalAccordion"
        >
          <div class="accordion-body">
            <div
              (click)="handleNavigateTopic('', '')"
              class="accordion-body-item"
            >
              <p>All Topics</p>
            </div>
            <div
              *ngFor="let topic of team.topics"
              (click)="handleNavigateTopic(team, topic)"
              class="accordion-body-item"
            >
              <p>{{ topic.name }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
